runs:
  using: "composite"
  steps:
   # checkout
    - uses: actions/checkout@v3
    # build api
    - uses: ./.github/actions/build/dotnet/jobs/aspnet-core
      with:
        apply-versioning: true
        projects: src/LeedsGalvanising.Api/src/LeedsGalvanising.Api/LeedsGalvanising.Api.csproj
        # tests: '' # Run all csproj which match the pattern **/*.Tests.csproj
        # should-run-tests: true # TODO: Uncomment when deploying working
    # build identity
    - uses: ./.github/actions/build/dotnet/jobs/aspnet-core
      with:
        apply-versioning: true
        projects: src/LeedsGalvanising.Api/src/LeedsGalvanising.Identity/LeedsGalvanising.Identity.csproj
        # tests: '' # Run all csproj which match the pattern **/*.Tests.csproj
        # should-run-tests: true # TODO: Uncomment when deploying working
    # build vue app
    - uses: ./.github/actions/build/npm/jobs/npm-application
      with:
        apply-versioning: true
        projects: src/LeedsGalvanising.Ui
        # tests: '' # Run all csproj which match the pattern **/*.Tests.csproj
        # should-run-tests: true # TODO: Uncomment when deploying working